<p-toast></p-toast>
<div class="admin-page">
  <div class="grid">
    <p-card class="col-12" header=" Order Detail">
      <p-fieldset legend="Order Details" [toggleable]="true" styleClass="mt-2">
        <div class="grid">
          <div class="col-4">
            <h3>Order ID</h3>
            <p>{{ order.id }}</p>
          </div>

          <div class="col-4">
            <h3>Order Date</h3>
            <p>{{ order.dateOrdered | date }}</p>
          </div>
          <div class="col-4">
            <h3>Order Status</h3>
            <p-dropdown
              [options]="orderStatus"
              [optionValue]="orderStatus[order.status].label"
              [(ngModel)]="selectedStatus"
              (onChange)="onStatus($event)"
            ></p-dropdown>
          </div>
          <div class="col-4">
            <h3>Order Price</h3>
            <p>{{ order.totalPrice | currency }}</p>
          </div>
        </div>
      </p-fieldset>
      <p-fieldset legend="Order Items" [toggleable]="true" styleClass="mt-2">
        <div class="grid mb-2">
          <div class="col-2"><h3>Name</h3></div>
          <div class="col-2"><h3>Brand</h3></div>
          <div class="col-2"><h3>Category</h3></div>
          <div class="col-2"><h3>Price</h3></div>
          <div class="col-2"><h3>Quantity</h3></div>
          <div class="col-2"><h3>Subtotal</h3></div>
        </div>
        <div class="grid mb-2" *ngFor="let orderItem of order.orderItems">
          <div class="col-2">{{ orderItem.product.name }}</div>
          <div class="col-2">{{ orderItem.product.brand }}</div>
          <div class="col-2">{{ orderItem.product.category.name }}</div>
          <div class="col-2">{{ orderItem.product.price | currency }}</div>
          <div class="col-2">{{ orderItem.quantity }}</div>
          <div class="col-2">
            {{ orderItem.quantity * orderItem.product.price | currency }}
          </div>
        </div>
        <hr />
        <div class="grid">
          <div class="col-2 col-offset-8">
            <h3 style="color: green">Total Price</h3>
          </div>
          <div class="col-2">
            <h3 style="color: green">{{ order.totalPrice | currency }}</h3>
          </div>
        </div>
      </p-fieldset>
      <p-fieldset legend="Order Address" [toggleable]="true" styleClass="mt-2">
        <div class="grid">
          <div class="col-4">
            <h3>Order Address</h3>
            <p>
              {{ order.shippingAddress1 }}<br />
              {{ order.shippingAddress2 }} <br />
              {{ order.city }}
            </p>
          </div>

          <div class="col-4">
            <h3>Customer Info</h3>
            <p>{{ order.user.name }}</p>
          </div>
          <div class="col-4">
            <h3>Contact Info</h3>
            <p>{{ order.phone }}</p>
          </div>
        </div>
      </p-fieldset>
    </p-card>
  </div>
</div>
